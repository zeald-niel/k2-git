jQuery(document).ready(function(a){function b(a,b){var c=a.closest("form").find(".wc-bookings-booking-form-button");if(void 0===b)return void c.addClass("disabled");var d=a.find('[data-value="'+b+'"]');if(void 0===d.data("value"))return void c.addClass("disabled");var e=a.closest("div").find("input");e.val(b).change(),a.closest("ul").find("a").removeClass("selected"),d.addClass("selected"),c.removeClass("disabled")}function c(c){var f=a(c).closest("form"),g=a(c).closest("div").find("fieldset"),h=a(c).closest("div").find(".block-picker"),i=h.find(".selected"),j=parseInt(g.find("input.booking_date_year").val(),10),k=parseInt(g.find("input.booking_date_month").val(),10),l=parseInt(g.find("input.booking_date_day").val(),10);j&&k&&l&&(h.closest("div").find("input").val("").change(),h.closest("div").block({message:null,overlayCSS:{background:"#fff",backgroundSize:"16px 16px",opacity:.6}}).show(),e&&e.abort(),e=a.ajax({type:"POST",url:booking_form_params.ajax_url,data:{action:"wc_bookings_get_blocks",form:f.serialize()},success:function(a){h.html(a),d(),h.closest("div").unblock(),b(h,i.data("value"))},dataType:"html"}))}function d(){var b=0,c=0;a(".block-picker a").each(function(){var d=a(this).width(),e=a(this).height();d>b&&(b=d),e>c&&(c=e)}),a(".block-picker a").width(b),a(".block-picker a").height(c)}a(".block-picker").on("click","a",function(){var c=a(this).data("value"),d=a(this).closest("ul");return b(d,c),!1}),a("#wc_bookings_field_resource, #wc_bookings_field_duration").change(function(){c(this)}),a(".wc-bookings-booking-form fieldset").on("date-selected",function(){c(this)});var e});