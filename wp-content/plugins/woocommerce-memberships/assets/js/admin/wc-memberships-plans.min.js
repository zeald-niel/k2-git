(function(){"use strict";jQuery(document).ready(function(a){var b,c,d,e;if(e=null!=(c=window.wc_memberships_admin)?c:{},b=null!=(d=window.pagenow)?d:"","wc_membership_plan"===b)return a.each(["content-restriction","product-restriction","purchasing-discount"],function(a,b){return e.initializeRuleset(b)}),e.initializeEnhancedSelect(a(".js-ajax-select-products"),{action:"woocommerce_json_search_products_and_variations",security:e.search_products_nonce,screen:"wc_membership_plan"}),a(".js-access-method-selector").on("change",function(b){var c,d,e,f,g;return g=a(".js-access-method-selector:checked",".plan-access-method-field").val(),e=a(this).closest(".options_group"),d=e.find(".js-show-if-access-method-purchase"),c=a(".misc-pub-grant-access"),f=a("#wp-WC_Memberships_User_Membership_Renewal_Reminder_Email-wrap").parent(".options_group"),"purchase"===g?(d.removeClass("hide"),c.show(),f.show()):(d.addClass("hide"),c.hide(),f.hide())}).change(),a(".plan-access-length-field").on("change",".js-access-length-type-selector",function(b){var c,d,e,f,g;if(g=a(".js-access-length-type-selector:checked",".plan-access-length-field").val(),d=a(this).closest(".form-field"),f=d.find(".js-show-if-access-length-type-specific"),e=d.find(".js-show-if-access-length-type-fixed"),"specific"===g?(f.removeClass("hide"),e.addClass("hide")):"fixed"===g?(f.addClass("hide"),e.removeClass("hide")):(f.addClass("hide"),e.addClass("hide")),c=d.find(".access_length-amount"),c.val()||c.val(1),a(this).hasClass("js-access-length-type"))return c.focus()}),a(".js-plan-access-set-date").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,showOn:"button",buttonImage:e.calendar_image,buttonImageOnly:!0}),a("ul.wc-tabs").show(),a("div.panel-wrap").each(function(){return a(this).find("div.panel:not(:first)").hide()}),a("ul.wc-tabs a").click(function(){var b,c,d;switch(d=a(this).attr("href"),c=a(this).closest("div.panel-wrap"),b=a("#wc-memberships-membership-plan-email-content-merge-tags"),a("ul.wc-tabs li",c).removeClass("active"),a(this).parent().addClass("active"),a("div.panel",c).hide(),a(d).show(),"#membership-plan-email-content"===a(this).attr("href")?b.show():b.hide(),a(".js-memberships-restrict-notice").hide(),d){case"#membership-plan-data-restrict-content":a(".js-memberships-restrict-content-notice").show();break;case"#membership-plan-data-restrict-products":a(".js-memberships-restrict-products-notice").show()}return!1}),a("ul.wc-tabs li:visible").eq(0).find("a").click()})}).call(this);