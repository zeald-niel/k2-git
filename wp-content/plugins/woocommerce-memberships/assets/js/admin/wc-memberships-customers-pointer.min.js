(function(){"use strict";jQuery(document).ready(function(a){var b,c,d;return d=null!=(b=window.wc_memberships_admin)?b:{},c=function(b,c){var e,f,g,h,i;if(h=b,"add_member"===c)g=a('<form method="get" action="'+d.new_user_membership_url+'"> <input type="hidden" name="post_type" value="wc_user_membership" /> <h3 class="wc-memberships-select-user">'+d.i18n.select_user+"</h3> </form>");else{if("transfer_membership"!==c)return;g=a('<div> <input type="hidden" name="post_type" value="wc_user_membership" /> <h3 class="wc-memberships-select-user">'+d.i18n.select_user+"</h3> </div>")}return g.append("<p>"+d.i18n.search_or_create_user+"</p>"),"3.5.3"===d.select2_version?g.append('<p><input type="hidden" class="wc-customer-search" name="user" id="search_member_id" data-placeholder="'+d.i18n.search_for_user+'" data-allow_clear="true" /></p>'):g.append('<p><select class="wc-customer-search" style="width:100%;" name="user" id="search_member_id"  data-placeholder="'+d.i18n.search_for_user+'" data-allow_clear="true"></select></p>'),e=a('<div class="wp-pointer-buttons" />'),f=a('<a class="close wc-memberships-search-member-pointer-close" href="#">'+d.i18n.cancel+"</a>"),i=a('<button class="button button-primary">'+d.i18n[c]+"</button>"),f.on("click.pointer",function(a){return a.preventDefault(),h.pointer("close")}),"transfer_membership"===c&&i.on("click",function(b){var c,e;if(b.preventDefault,e=a("#search_member_id").val())return c={action:"wc_memberships_transfer_user_membership",security:d.transfer_user_membership_nonce,prev_user:h.data("user-id"),new_user:e,membership:h.data("membership-id")},a.post(d.ajax_url,c,function(a){return console.log(a),location.reload()})}),g.find("#search_member_id").on("change",function(b){return a(this).val()?i.removeAttr("disabled"):i.attr("disabled","disabled")}),g.find("#search_member_id").val()?i.removeAttr("disabled"):i.attr("disabled","disabled"),e.append(f).append(i),g.append(e),g},d.searchCustomersSelect=function(b){return a(document.body).trigger("wc-enhanced-select-init")},a(".page-title-action, .add-new-h2").pointer({pointerClass:"create-membership-pointer",position:"top",content:function(b){return c(a(this),"add_member")},buttons:function(a){return""}}).on("click",function(b){return b.preventDefault(),a(this).pointer("toggle")}).on("pointeropened",function(a){return d.searchCustomersSelect("search_member_id")}),a(".transfer_user_membership").pointer({pointerClass:"transfer-membership-pointer",position:"top",content:function(b){return c(a(this),"transfer_membership")},buttons:function(a){return""}}).on("click",function(b){return b.preventDefault(),a(this).pointer("toggle")}).on("pointeropened",function(a){return d.searchCustomersSelect("search_member_id")})})}).call(this);